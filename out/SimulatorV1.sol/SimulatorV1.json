{"abi":[{"type":"constructor","inputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"simulateCurveSwapIn","inputs":[{"name":"params","type":"tuple","internalType":"struct SimulatorV1.SwapParams","components":[{"name":"protocol","type":"uint8","internalType":"uint8"},{"name":"handler","type":"address","internalType":"address"},{"name":"tokenIn","type":"address","internalType":"address"},{"name":"tokenOut","type":"address","internalType":"address"},{"name":"fee","type":"uint24","internalType":"uint24"},{"name":"amount","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"amountOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"simulateSwapIn","inputs":[{"name":"paramsArray","type":"tuple[]","internalType":"struct SimulatorV1.SwapParams[]","components":[{"name":"protocol","type":"uint8","internalType":"uint8"},{"name":"handler","type":"address","internalType":"address"},{"name":"tokenIn","type":"address","internalType":"address"},{"name":"tokenOut","type":"address","internalType":"address"},{"name":"fee","type":"uint24","internalType":"uint24"},{"name":"amount","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"simulateUniswapV2SwapIn","inputs":[{"name":"params","type":"tuple","internalType":"struct SimulatorV1.SwapParams","components":[{"name":"protocol","type":"uint8","internalType":"uint8"},{"name":"handler","type":"address","internalType":"address"},{"name":"tokenIn","type":"address","internalType":"address"},{"name":"tokenOut","type":"address","internalType":"address"},{"name":"fee","type":"uint24","internalType":"uint24"},{"name":"amount","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"amountOut","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"simulateUniswapV3SwapIn","inputs":[{"name":"params","type":"tuple","internalType":"struct SimulatorV1.SwapParams","components":[{"name":"protocol","type":"uint8","internalType":"uint8"},{"name":"handler","type":"address","internalType":"address"},{"name":"tokenIn","type":"address","internalType":"address"},{"name":"tokenOut","type":"address","internalType":"address"},{"name":"fee","type":"uint24","internalType":"uint24"},{"name":"amount","type":"uint256","internalType":"uint256"}]}],"outputs":[{"name":"amountOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x608060405234801561001057600080fd5b50610aa1806100206000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806355abbafc14610051578063766370281461007657806388dbf051146100895780638e888ccc1461009c575b600080fd5b61006461005f366004610798565b6100af565b60405190815260200160405180910390f35b610064610084366004610859565b61014e565b610064610097366004610859565b610185565b6100646100aa366004610859565b610300565b60008082815b818110156101425760008686838181106100d1576100d1610902565b905060c002018036038101906100e79190610859565b9050836000036100fd578060a001519350610105565b60a081018490525b805160ff166000036101215761011a8161014e565b9350610139565b805160ff166001036101395761013681610300565b93505b506001016100b5565b50909150505b92915050565b600080600061016a8460200151856040015186606001516103f2565b9150915061017d8460a0015183836104bc565b949350505050565b60208101516000908180805b81600f0b83600f0b036102735760405163046e8dd760e31b8152600f82900b60048201526000906001600160a01b038616906323746eb8906024016020604051808303816000875af11580156101eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020f9190610918565b905086604001516001600160a01b0316816001600160a01b03160361023657819350610257565b86606001516001600160a01b0316816001600160a01b031603610257578192505b82600f0b84600f0b1461026a5750610273565b50600101610191565b60a0860151604051635e0d443f60e01b8152600f85810b600483015284900b602482015260448101919091526001600160a01b03851690635e0d443f906064016020604051808303816000875af11580156102d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102f6919061093c565b9695505050505050565b6020818101516040805160a080820183526000808352948201858152828401868152606080850188815260808087018a8152888c01516001600160a01b039081168952938c015184168652958b015184528a015162ffffff90811682529651636352813560e11b81528651831660048201529351821660248501529151604484015290519094166064820152905183166084820152909183169063c6a5026a9060a4016080604051808303816000875af11580156103c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e69190610969565b50919695505050505050565b600080600061040185856105e1565b5090506000806104128888886106d8565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa15801561044f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047391906109c6565b506001600160701b031691506001600160701b03169150826001600160a01b0316876001600160a01b0316146104aa5780826104ad565b81815b90999098509650505050505050565b60008084116105265760405162461bcd60e51b815260206004820152602b60248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4960448201526a1394155517d05353d5539560aa1b60648201526084015b60405180910390fd5b6000831180156105365750600082115b6105935760405162461bcd60e51b815260206004820152602860248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4c604482015267495155494449545960c01b606482015260840161051d565b60006105a1856103e5610a1f565b905060006105af8483610a1f565b90506000826105c0876103e8610a1f565b6105ca9190610a36565b90506105d68183610a49565b979650505050505050565b600080826001600160a01b0316846001600160a01b0316036106535760405162461bcd60e51b815260206004820152602560248201527f556e697377617056324c6962726172793a204944454e544943414c5f41444452604482015264455353455360d81b606482015260840161051d565b826001600160a01b0316846001600160a01b031610610673578284610676565b83835b90925090506001600160a01b0382166106d15760405162461bcd60e51b815260206004820152601e60248201527f556e697377617056324c6962726172793a205a45524f5f414444524553530000604482015260640161051d565b9250929050565b60008060006106e785856105e1565b604080516bffffffffffffffffffffffff19606094851b811660208084019190915293851b81166034830152825180830360280181526048830184528051908501206001600160f81b031960688401529a90941b9093166069840152607d8301989098527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f609d808401919091528851808403909101815260bd909201909752805196019590952095945050505050565b600080602083850312156107ab57600080fd5b823567ffffffffffffffff808211156107c357600080fd5b818501915085601f8301126107d757600080fd5b8135818111156107e657600080fd5b86602060c0830285010111156107fb57600080fd5b60209290920196919550909350505050565b803560ff8116811461081e57600080fd5b919050565b6001600160a01b038116811461083857600080fd5b50565b803561081e81610823565b803562ffffff8116811461081e57600080fd5b600060c0828403121561086b57600080fd5b60405160c0810181811067ffffffffffffffff8211171561089c57634e487b7160e01b600052604160045260246000fd5b6040526108a88361080d565b81526108b66020840161083b565b60208201526108c76040840161083b565b60408201526108d86060840161083b565b60608201526108e960808401610846565b608082015260a083013560a08201528091505092915050565b634e487b7160e01b600052603260045260246000fd5b60006020828403121561092a57600080fd5b815161093581610823565b9392505050565b60006020828403121561094e57600080fd5b5051919050565b805163ffffffff8116811461081e57600080fd5b6000806000806080858703121561097f57600080fd5b84519350602085015161099181610823565b925061099f60408601610955565b6060959095015193969295505050565b80516001600160701b038116811461081e57600080fd5b6000806000606084860312156109db57600080fd5b6109e4846109af565b92506109f2602085016109af565b9150610a0060408501610955565b90509250925092565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761014857610148610a09565b8082018082111561014857610148610a09565b600082610a6657634e487b7160e01b600052601260045260246000fd5b50049056fea264697066735822122088b92db55e626c855c0329d5e1d677ac69c2525cd29ba99b5bdc8a1c30bb10fe64736f6c63430008170033","sourceMap":"293:2861:0:-:0;;;721:16;;;;;;;;;;293:2861;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b506004361061004c5760003560e01c806355abbafc14610051578063766370281461007657806388dbf051146100895780638e888ccc1461009c575b600080fd5b61006461005f366004610798565b6100af565b60405190815260200160405180910390f35b610064610084366004610859565b61014e565b610064610097366004610859565b610185565b6100646100aa366004610859565b610300565b60008082815b818110156101425760008686838181106100d1576100d1610902565b905060c002018036038101906100e79190610859565b9050836000036100fd578060a001519350610105565b60a081018490525b805160ff166000036101215761011a8161014e565b9350610139565b805160ff166001036101395761013681610300565b93505b506001016100b5565b50909150505b92915050565b600080600061016a8460200151856040015186606001516103f2565b9150915061017d8460a0015183836104bc565b949350505050565b60208101516000908180805b81600f0b83600f0b036102735760405163046e8dd760e31b8152600f82900b60048201526000906001600160a01b038616906323746eb8906024016020604051808303816000875af11580156101eb573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020f9190610918565b905086604001516001600160a01b0316816001600160a01b03160361023657819350610257565b86606001516001600160a01b0316816001600160a01b031603610257578192505b82600f0b84600f0b1461026a5750610273565b50600101610191565b60a0860151604051635e0d443f60e01b8152600f85810b600483015284900b602482015260448101919091526001600160a01b03851690635e0d443f906064016020604051808303816000875af11580156102d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102f6919061093c565b9695505050505050565b6020818101516040805160a080820183526000808352948201858152828401868152606080850188815260808087018a8152888c01516001600160a01b039081168952938c015184168652958b015184528a015162ffffff90811682529651636352813560e11b81528651831660048201529351821660248501529151604484015290519094166064820152905183166084820152909183169063c6a5026a9060a4016080604051808303816000875af11580156103c2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103e69190610969565b50919695505050505050565b600080600061040185856105e1565b5090506000806104128888886106d8565b6001600160a01b0316630902f1ac6040518163ffffffff1660e01b8152600401606060405180830381865afa15801561044f573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047391906109c6565b506001600160701b031691506001600160701b03169150826001600160a01b0316876001600160a01b0316146104aa5780826104ad565b81815b90999098509650505050505050565b60008084116105265760405162461bcd60e51b815260206004820152602b60248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4960448201526a1394155517d05353d5539560aa1b60648201526084015b60405180910390fd5b6000831180156105365750600082115b6105935760405162461bcd60e51b815260206004820152602860248201527f556e697377617056324c6962726172793a20494e53554646494349454e545f4c604482015267495155494449545960c01b606482015260840161051d565b60006105a1856103e5610a1f565b905060006105af8483610a1f565b90506000826105c0876103e8610a1f565b6105ca9190610a36565b90506105d68183610a49565b979650505050505050565b600080826001600160a01b0316846001600160a01b0316036106535760405162461bcd60e51b815260206004820152602560248201527f556e697377617056324c6962726172793a204944454e544943414c5f41444452604482015264455353455360d81b606482015260840161051d565b826001600160a01b0316846001600160a01b031610610673578284610676565b83835b90925090506001600160a01b0382166106d15760405162461bcd60e51b815260206004820152601e60248201527f556e697377617056324c6962726172793a205a45524f5f414444524553530000604482015260640161051d565b9250929050565b60008060006106e785856105e1565b604080516bffffffffffffffffffffffff19606094851b811660208084019190915293851b81166034830152825180830360280181526048830184528051908501206001600160f81b031960688401529a90941b9093166069840152607d8301989098527f96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f609d808401919091528851808403909101815260bd909201909752805196019590952095945050505050565b600080602083850312156107ab57600080fd5b823567ffffffffffffffff808211156107c357600080fd5b818501915085601f8301126107d757600080fd5b8135818111156107e657600080fd5b86602060c0830285010111156107fb57600080fd5b60209290920196919550909350505050565b803560ff8116811461081e57600080fd5b919050565b6001600160a01b038116811461083857600080fd5b50565b803561081e81610823565b803562ffffff8116811461081e57600080fd5b600060c0828403121561086b57600080fd5b60405160c0810181811067ffffffffffffffff8211171561089c57634e487b7160e01b600052604160045260246000fd5b6040526108a88361080d565b81526108b66020840161083b565b60208201526108c76040840161083b565b60408201526108d86060840161083b565b60608201526108e960808401610846565b608082015260a083013560a08201528091505092915050565b634e487b7160e01b600052603260045260246000fd5b60006020828403121561092a57600080fd5b815161093581610823565b9392505050565b60006020828403121561094e57600080fd5b5051919050565b805163ffffffff8116811461081e57600080fd5b6000806000806080858703121561097f57600080fd5b84519350602085015161099181610823565b925061099f60408601610955565b6060959095015193969295505050565b80516001600160701b038116811461081e57600080fd5b6000806000606084860312156109db57600080fd5b6109e4846109af565b92506109f2602085016109af565b9150610a0060408501610955565b90509250925092565b634e487b7160e01b600052601160045260246000fd5b808202811582820484141761014857610148610a09565b8082018082111561014857610148610a09565b600082610a6657634e487b7160e01b600052601260045260246000fd5b50049056fea264697066735822122088b92db55e626c855c0329d5e1d677ac69c2525cd29ba99b5bdc8a1c30bb10fe64736f6c63430008170033","sourceMap":"293:2861:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;743:772;;;;;;:::i;:::-;;:::i;:::-;;;811:25:36;;;799:2;784:18;743:772:0;;;;;;;1521:424;;;;;;:::i;:::-;;:::i;2491:661::-;;;;;;:::i;:::-;;:::i;1951:534::-;;;;;;:::i;:::-;;:::i;743:772::-;832:7;;906:11;832:7;935:547;955:17;951:1;:21;935:547;;;990:24;1017:11;;1029:1;1017:14;;;;;;;:::i;:::-;;;;;;990:41;;;;;;;;;;:::i;:::-;;;1050:9;1063:1;1050:14;1046:142;;1096:6;:13;;;1084:25;;1046:142;;;1148:13;;;:25;;;1046:142;1206:15;;:20;;:15;:20;1202:210;;1258:31;1282:6;1258:23;:31::i;:::-;1246:43;;1202:210;;;1314:15;;:20;;1333:1;1314:20;1310:102;;1366:31;1390:6;1366:23;:31::i;:::-;1354:43;;1310:102;-1:-1:-1;1454:3:0;;935:547;;;-1:-1:-1;1499:9:0;;-1:-1:-1;;743:772:0;;;;;:::o;1521:424::-;1615:17;1645:14;1661:15;1680:123;1722:6;:14;;;1750:6;:14;;;1778:6;:15;;;1680:28;:123::i;:::-;1644:159;;;;1825:113;1868:6;:13;;;1895:9;1918:10;1825:29;:113::i;:::-;1813:125;1521:424;-1:-1:-1;;;;1521:424:0:o;2491:661::-;2634:14;;;;2576:17;;;;;2722:369;2734:1;2729:6;;:1;:6;;;2722:369;;2766:19;;-1:-1:-1;;;2766:19:0;;2658:2:36;2647:22;;;2766:19:0;;;2629:41:36;2751:12:0;;-1:-1:-1;;;;;2766:10:0;;;;;2602:18:36;;2766:19:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;2751:34;;2812:6;:14;;;-1:-1:-1;;;;;2804:22:0;:4;-1:-1:-1;;;;;2804:22:0;;2800:151;;2850:7;2846:11;;2800:151;;;2890:6;:15;;;-1:-1:-1;;;;;2882:23:0;:4;-1:-1:-1;;;;;2882:23:0;;2878:73;;2929:7;2925:11;;2878:73;2974:1;2969:6;;:1;:6;;;2965:50;;2995:5;;;2965:50;-1:-1:-1;3057:9:0;;2722:369;;;3131:13;;;;3113:32;;-1:-1:-1;;;3113:32:0;;3164:2:36;3153:22;;;3113:32:0;;;3135:41:36;3212:22;;;3192:18;;;3185:50;3251:18;;;3244:34;;;;-1:-1:-1;;;;;3113:11:0;;;;;3108:18:36;;3113:32:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;3101:44;2491:661;-1:-1:-1;;;;;;2491:661:0:o;1951:534::-;2098:14;;;;;-1:-1:-1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2213:14:0;;;;-1:-1:-1;;;;;2190:37:0;;;;;2261:15;;;;2237:39;;;;2310:13;;;;2286:37;;2352:10;;;2333:29;;;;;;2436:42;;-1:-1:-1;;;2436:42:0;;3773:13:36;;3769:22;;2436:42:0;;;3751:41:36;3834:24;;3830:33;;3808:20;;;3801:63;3902:24;;3880:20;;;3873:54;3969:24;;3965:39;;;3943:20;;;3936:69;4047:24;;4043:33;;4021:20;;;4014:63;-1:-1:-1;;2436:28:0;;;;;3685:19:36;;2436:42:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;2416:62:0;;1951:534;-1:-1:-1;;;;;;1951:534:0:o;1671:490:7:-;1794:16;1812;1841:14;1861:26;1872:6;1880;1861:10;:26::i;:::-;1840:47;;;1898:16;1916;1966:32;1974:7;1983:6;1991;1966:7;:32::i;:::-;-1:-1:-1;;;;;1938:95:7;;:97;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;1897:138;-1:-1:-1;;;;;1897:138:7;;;-1:-1:-1;;;;;1897:138:7;;;2078:6;-1:-1:-1;;;;;2068:16:7;:6;-1:-1:-1;;;;;2068:16:7;;:86;;2135:8;2145;2068:86;;;2100:8;2110;2068:86;2045:109;;;;-1:-1:-1;1671:490:7;-1:-1:-1;;;;;;;1671:490:7:o;2280:583::-;2412:17;2460:1;2449:8;:12;2441:68;;;;-1:-1:-1;;;2441:68:7;;5498:2:36;2441:68:7;;;5480:21:36;5537:2;5517:18;;;5510:30;5576:34;5556:18;;;5549:62;-1:-1:-1;;;5627:18:36;;;5620:41;5678:19;;2441:68:7;;;;;;;;;2552:1;2540:9;:13;:31;;;;;2570:1;2557:10;:14;2540:31;2519:118;;;;-1:-1:-1;;;2519:118:7;;5910:2:36;2519:118:7;;;5892:21:36;5949:2;5929:18;;;5922:30;5988:34;5968:18;;;5961:62;-1:-1:-1;;;6039:18:36;;;6032:38;6087:19;;2519:118:7;5708:404:36;2519:118:7;2647:23;2673:14;:8;2684:3;2673:14;:::i;:::-;2647:40;-1:-1:-1;2697:17:7;2717:28;2735:10;2647:40;2717:28;:::i;:::-;2697:48;-1:-1:-1;2755:19:7;2796:15;2777:16;:9;2789:4;2777:16;:::i;:::-;:34;;;;:::i;:::-;2755:56;-1:-1:-1;2833:23:7;2755:56;2833:9;:23;:::i;:::-;2821:35;2280:583;-1:-1:-1;;;;;;;2280:583:7:o;325:397::-;424:14;440;488:6;-1:-1:-1;;;;;478:16:7;:6;-1:-1:-1;;;;;478:16:7;;470:66;;;;-1:-1:-1;;;470:66:7;;6976:2:36;470:66:7;;;6958:21:36;7015:2;6995:18;;;6988:30;7054:34;7034:18;;;7027:62;-1:-1:-1;;;7105:18:36;;;7098:35;7150:19;;470:66:7;6774:401:36;470:66:7;574:6;-1:-1:-1;;;;;565:15:7;:6;-1:-1:-1;;;;;565:15:7;;:77;;627:6;635;565:77;;;596:6;604;565:77;546:96;;-1:-1:-1;546:96:7;-1:-1:-1;;;;;;660:20:7;;652:63;;;;-1:-1:-1;;;652:63:7;;7382:2:36;652:63:7;;;7364:21:36;7421:2;7401:18;;;7394:30;7460:32;7440:18;;;7433:60;7510:18;;652:63:7;7180:354:36;652:63:7;325:397;;;;;:::o;811:805::-;930:12;955:14;971;989:26;1000:6;1008;989:10;:26::i;:::-;1165:32;;;-1:-1:-1;;7766:2:36;7762:15;;;7758:24;;1165:32:7;;;;7746:37:36;;;;7817:15;;;7813:24;;7799:12;;;7792:46;1165:32:7;;;;;;;;;7854:12:36;;;1165:32:7;;1155:43;;;;;;-1:-1:-1;;;;;;1326:197:7;;;8088:39:36;8160:15;;;;8156:53;;;8143:11;;;8136:74;8226:12;;;8219:28;;;;1063:66:7;8263:12:36;;;;8256:28;;;;1326:197:7;;;;;;;;;;8300:12:36;;;;1326:197:7;;;1291:254;;;;;;;;;;-1:-1:-1;;;;;811:805:7:o;14:646:36:-;128:6;136;189:2;177:9;168:7;164:23;160:32;157:52;;;205:1;202;195:12;157:52;245:9;232:23;274:18;315:2;307:6;304:14;301:34;;;331:1;328;321:12;301:34;369:6;358:9;354:22;344:32;;414:7;407:4;403:2;399:13;395:27;385:55;;436:1;433;426:12;385:55;476:2;463:16;502:2;494:6;491:14;488:34;;;518:1;515;508:12;488:34;574:7;569:2;561:4;553:6;549:17;545:2;541:26;537:35;534:48;531:68;;;595:1;592;585:12;531:68;626:2;618:11;;;;;648:6;;-1:-1:-1;14:646:36;;-1:-1:-1;;;;14:646:36:o;847:156::-;913:20;;973:4;962:16;;952:27;;942:55;;993:1;990;983:12;942:55;847:156;;;:::o;1008:131::-;-1:-1:-1;;;;;1083:31:36;;1073:42;;1063:70;;1129:1;1126;1119:12;1063:70;1008:131;:::o;1144:134::-;1212:20;;1241:31;1212:20;1241:31;:::i;1283:161::-;1350:20;;1410:8;1399:20;;1389:31;;1379:59;;1434:1;1431;1424:12;1449:899;1534:6;1587:3;1575:9;1566:7;1562:23;1558:33;1555:53;;;1604:1;1601;1594:12;1555:53;1637:2;1631:9;1679:3;1671:6;1667:16;1749:6;1737:10;1734:22;1713:18;1701:10;1698:34;1695:62;1692:185;;;1799:10;1794:3;1790:20;1787:1;1780:31;1834:4;1831:1;1824:15;1862:4;1859:1;1852:15;1692:185;1893:2;1886:22;1932:27;1949:9;1932:27;:::i;:::-;1924:6;1917:43;1993:38;2027:2;2016:9;2012:18;1993:38;:::i;:::-;1988:2;1980:6;1976:15;1969:63;2065:38;2099:2;2088:9;2084:18;2065:38;:::i;:::-;2060:2;2052:6;2048:15;2041:63;2137:38;2171:2;2160:9;2156:18;2137:38;:::i;:::-;2132:2;2124:6;2120:15;2113:63;2210:38;2243:3;2232:9;2228:19;2210:38;:::i;:::-;2204:3;2196:6;2192:16;2185:64;2311:3;2300:9;2296:19;2283:33;2277:3;2269:6;2265:16;2258:59;2336:6;2326:16;;;1449:899;;;;:::o;2353:127::-;2414:10;2409:3;2405:20;2402:1;2395:31;2445:4;2442:1;2435:15;2469:4;2466:1;2459:15;2681:251;2751:6;2804:2;2792:9;2783:7;2779:23;2775:32;2772:52;;;2820:1;2817;2810:12;2772:52;2852:9;2846:16;2871:31;2896:5;2871:31;:::i;:::-;2921:5;2681:251;-1:-1:-1;;;2681:251:36:o;3289:184::-;3359:6;3412:2;3400:9;3391:7;3387:23;3383:32;3380:52;;;3428:1;3425;3418:12;3380:52;-1:-1:-1;3451:16:36;;3289:184;-1:-1:-1;3289:184:36:o;4088:167::-;4166:13;;4219:10;4208:22;;4198:33;;4188:61;;4245:1;4242;4235:12;4260:457;4356:6;4364;4372;4380;4433:3;4421:9;4412:7;4408:23;4404:33;4401:53;;;4450:1;4447;4440:12;4401:53;4479:9;4473:16;4463:26;;4532:2;4521:9;4517:18;4511:25;4545:31;4570:5;4545:31;:::i;:::-;4595:5;-1:-1:-1;4619:48:36;4663:2;4648:18;;4619:48;:::i;:::-;4707:2;4692:18;;;;4686:25;4260:457;;;;-1:-1:-1;;;4260:457:36:o;4722:188::-;4801:13;;-1:-1:-1;;;;;4843:42:36;;4833:53;;4823:81;;4900:1;4897;4890:12;4915:376;5002:6;5010;5018;5071:2;5059:9;5050:7;5046:23;5042:32;5039:52;;;5087:1;5084;5077:12;5039:52;5110:40;5140:9;5110:40;:::i;:::-;5100:50;;5169:49;5214:2;5203:9;5199:18;5169:49;:::i;:::-;5159:59;;5237:48;5281:2;5270:9;5266:18;5237:48;:::i;:::-;5227:58;;4915:376;;;;;:::o;6117:127::-;6178:10;6173:3;6169:20;6166:1;6159:31;6209:4;6206:1;6199:15;6233:4;6230:1;6223:15;6249:168;6322:9;;;6353;;6370:15;;;6364:22;;6350:37;6340:71;;6391:18;;:::i;6422:125::-;6487:9;;;6508:10;;;6505:36;;;6521:18;;:::i;6552:217::-;6592:1;6618;6608:132;;6662:10;6657:3;6653:20;6650:1;6643:31;6697:4;6694:1;6687:15;6725:4;6722:1;6715:15;6608:132;-1:-1:-1;6754:9:36;;6552:217::o","linkReferences":{}},"methodIdentifiers":{"simulateCurveSwapIn((uint8,address,address,address,uint24,uint256))":"88dbf051","simulateSwapIn((uint8,address,address,address,uint24,uint256)[])":"55abbafc","simulateUniswapV2SwapIn((uint8,address,address,address,uint24,uint256))":"76637028","simulateUniswapV3SwapIn((uint8,address,address,address,uint24,uint256))":"8e888ccc"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"protocol\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"handler\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct SimulatorV1.SwapParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"simulateCurveSwapIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"protocol\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"handler\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct SimulatorV1.SwapParams[]\",\"name\":\"paramsArray\",\"type\":\"tuple[]\"}],\"name\":\"simulateSwapIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"protocol\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"handler\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct SimulatorV1.SwapParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"simulateUniswapV2SwapIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"protocol\",\"type\":\"uint8\"},{\"internalType\":\"address\",\"name\":\"handler\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"internalType\":\"struct SimulatorV1.SwapParams\",\"name\":\"params\",\"type\":\"tuple\"}],\"name\":\"simulateUniswapV3SwapIn\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"amountOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/src/SimulatorV1.sol\":\"SimulatorV1\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":ds-test/=lib/forge-std/lib/ds-test/src/\",\":forge-std/=lib/forge-std/src/\"]},\"sources\":{\"contracts/src/SimulatorV1.sol\":{\"keccak256\":\"0x33decb794ad6277c618730e8cf457760386723c6aaa620216fbbc2bf022d0627\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://71061df2e1a1eb654ad887406443ad06b610d00cef9d279d012acd12adc18497\",\"dweb:/ipfs/QmQaxpzQkFZjWSQY3Keo1WdU5Mhy94rQZkoDwcBVa8noGe\"]},\"contracts/src/protocols/curve/ICurvePool.sol\":{\"keccak256\":\"0x70b4397964caf4fd4b2725bd5f082c4bc241930eee0ee3ec9035550d4edda568\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://17e257d37e0cafc4f3535a8771e10bca33da167fde6671a378c99d407934e193\",\"dweb:/ipfs/QmRcnzAEc269hkjeMofq9gsL57J5SnFFqxZbEmCQBNFxE1\"]},\"contracts/src/protocols/uniswap/IQuoterV2.sol\":{\"keccak256\":\"0x8c0ec4a66e8d84bf495a2ff565a36ac36f17ca84b33d5a103f8b42015f866557\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://e18478bae632cc3ff4270b94862dea82306f7d26241ff8d1635175f9c019aef3\",\"dweb:/ipfs/QmbimsEhnAWc8Yakd4x6ph5UzVMchmhf17YMf6inHx8HHe\"]},\"contracts/src/protocols/uniswap/IUniswapV2Pair.sol\":{\"keccak256\":\"0x3013d79abe422a873d9e7a74813ce3c84a0340c7d6ef0b6e56806f22e79439f6\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://318c65fb06fe1274eb933c4159e8be95eb341f0d43345fe1c6bbacf0bfc6d072\",\"dweb:/ipfs/QmVpeEb9RxHcMfR4sn9Typ3V7PDJjy6nYJcTgiKqv7mzgX\"]},\"contracts/src/protocols/uniswap/UniswapV2Library.sol\":{\"keccak256\":\"0x9f16f08a125d2d25ff1a22803c6f217379391e26640e819166458208d9715743\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://72cfcf73d0efa193277a837d9128f21d7a722a5bc4e7e3f21d3cb0507d20f890\",\"dweb:/ipfs/QmSVh8DxmFepWRerzqKqEZanZUDfv9ZvmxC2BZjCgtUvrX\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"struct SimulatorV1.SwapParams","name":"params","type":"tuple","components":[{"internalType":"uint8","name":"protocol","type":"uint8"},{"internalType":"address","name":"handler","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amount","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"simulateCurveSwapIn","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}]},{"inputs":[{"internalType":"struct SimulatorV1.SwapParams[]","name":"paramsArray","type":"tuple[]","components":[{"internalType":"uint8","name":"protocol","type":"uint8"},{"internalType":"address","name":"handler","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amount","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"simulateSwapIn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"struct SimulatorV1.SwapParams","name":"params","type":"tuple","components":[{"internalType":"uint8","name":"protocol","type":"uint8"},{"internalType":"address","name":"handler","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amount","type":"uint256"}]}],"stateMutability":"view","type":"function","name":"simulateUniswapV2SwapIn","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}]},{"inputs":[{"internalType":"struct SimulatorV1.SwapParams","name":"params","type":"tuple","components":[{"internalType":"uint8","name":"protocol","type":"uint8"},{"internalType":"address","name":"handler","type":"address"},{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"},{"internalType":"uint256","name":"amount","type":"uint256"}]}],"stateMutability":"nonpayable","type":"function","name":"simulateUniswapV3SwapIn","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["ds-test/=lib/forge-std/lib/ds-test/src/","forge-std/=lib/forge-std/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/src/SimulatorV1.sol":"SimulatorV1"},"libraries":{}},"sources":{"contracts/src/SimulatorV1.sol":{"keccak256":"0x33decb794ad6277c618730e8cf457760386723c6aaa620216fbbc2bf022d0627","urls":["bzz-raw://71061df2e1a1eb654ad887406443ad06b610d00cef9d279d012acd12adc18497","dweb:/ipfs/QmQaxpzQkFZjWSQY3Keo1WdU5Mhy94rQZkoDwcBVa8noGe"],"license":"MIT"},"contracts/src/protocols/curve/ICurvePool.sol":{"keccak256":"0x70b4397964caf4fd4b2725bd5f082c4bc241930eee0ee3ec9035550d4edda568","urls":["bzz-raw://17e257d37e0cafc4f3535a8771e10bca33da167fde6671a378c99d407934e193","dweb:/ipfs/QmRcnzAEc269hkjeMofq9gsL57J5SnFFqxZbEmCQBNFxE1"],"license":"MIT"},"contracts/src/protocols/uniswap/IQuoterV2.sol":{"keccak256":"0x8c0ec4a66e8d84bf495a2ff565a36ac36f17ca84b33d5a103f8b42015f866557","urls":["bzz-raw://e18478bae632cc3ff4270b94862dea82306f7d26241ff8d1635175f9c019aef3","dweb:/ipfs/QmbimsEhnAWc8Yakd4x6ph5UzVMchmhf17YMf6inHx8HHe"],"license":"MIT"},"contracts/src/protocols/uniswap/IUniswapV2Pair.sol":{"keccak256":"0x3013d79abe422a873d9e7a74813ce3c84a0340c7d6ef0b6e56806f22e79439f6","urls":["bzz-raw://318c65fb06fe1274eb933c4159e8be95eb341f0d43345fe1c6bbacf0bfc6d072","dweb:/ipfs/QmVpeEb9RxHcMfR4sn9Typ3V7PDJjy6nYJcTgiKqv7mzgX"],"license":"MIT"},"contracts/src/protocols/uniswap/UniswapV2Library.sol":{"keccak256":"0x9f16f08a125d2d25ff1a22803c6f217379391e26640e819166458208d9715743","urls":["bzz-raw://72cfcf73d0efa193277a837d9128f21d7a722a5bc4e7e3f21d3cb0507d20f890","dweb:/ipfs/QmSVh8DxmFepWRerzqKqEZanZUDfv9ZvmxC2BZjCgtUvrX"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"contracts/src/SimulatorV1.sol","id":279,"exportedSymbols":{"ICurvePool":[866],"IQuoterV2":[959],"IUniswapV2Pair":[1201],"SimulatorV1":[278],"UniswapV2Library":[1723]},"nodeType":"SourceUnit","src":"32:3122:0","nodes":[{"id":1,"nodeType":"PragmaDirective","src":"32:23:0","nodes":[],"literals":["solidity","^","0.8",".9"]},{"id":2,"nodeType":"ImportDirective","src":"127:50:0","nodes":[],"absolutePath":"contracts/src/protocols/uniswap/UniswapV2Library.sol","file":"./protocols/uniswap/UniswapV2Library.sol","nameLocation":"-1:-1:-1","scope":279,"sourceUnit":1724,"symbolAliases":[],"unitAlias":""},{"id":3,"nodeType":"ImportDirective","src":"178:43:0","nodes":[],"absolutePath":"contracts/src/protocols/uniswap/IQuoterV2.sol","file":"./protocols/uniswap/IQuoterV2.sol","nameLocation":"-1:-1:-1","scope":279,"sourceUnit":960,"symbolAliases":[],"unitAlias":""},{"id":4,"nodeType":"ImportDirective","src":"222:42:0","nodes":[],"absolutePath":"contracts/src/protocols/curve/ICurvePool.sol","file":"./protocols/curve/ICurvePool.sol","nameLocation":"-1:-1:-1","scope":279,"sourceUnit":867,"symbolAliases":[],"unitAlias":""},{"id":278,"nodeType":"ContractDefinition","src":"293:2861:0","nodes":[{"id":17,"nodeType":"StructDefinition","src":"355:360:0","nodes":[],"canonicalName":"SimulatorV1.SwapParams","members":[{"constant":false,"id":6,"mutability":"mutable","name":"protocol","nameLocation":"389:8:0","nodeType":"VariableDeclaration","scope":17,"src":"383:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"},"typeName":{"id":5,"name":"uint8","nodeType":"ElementaryTypeName","src":"383:5:0","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"visibility":"internal"},{"constant":false,"id":8,"mutability":"mutable","name":"handler","nameLocation":"466:7:0","nodeType":"VariableDeclaration","scope":17,"src":"458:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":7,"name":"address","nodeType":"ElementaryTypeName","src":"458:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":10,"mutability":"mutable","name":"tokenIn","nameLocation":"545:7:0","nodeType":"VariableDeclaration","scope":17,"src":"537:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":9,"name":"address","nodeType":"ElementaryTypeName","src":"537:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":12,"mutability":"mutable","name":"tokenOut","nameLocation":"570:8:0","nodeType":"VariableDeclaration","scope":17,"src":"562:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":11,"name":"address","nodeType":"ElementaryTypeName","src":"562:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":14,"mutability":"mutable","name":"fee","nameLocation":"595:3:0","nodeType":"VariableDeclaration","scope":17,"src":"588:10:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"},"typeName":{"id":13,"name":"uint24","nodeType":"ElementaryTypeName","src":"588:6:0","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"visibility":"internal"},{"constant":false,"id":16,"mutability":"mutable","name":"amount","nameLocation":"643:6:0","nodeType":"VariableDeclaration","scope":17,"src":"635:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":15,"name":"uint256","nodeType":"ElementaryTypeName","src":"635:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"SwapParams","nameLocation":"362:10:0","scope":278,"visibility":"public"},{"id":21,"nodeType":"FunctionDefinition","src":"721:16:0","nodes":[],"body":{"id":20,"nodeType":"Block","src":"735:2:0","nodes":[],"statements":[]},"implemented":true,"kind":"constructor","modifiers":[],"name":"","nameLocation":"-1:-1:-1","parameters":{"id":18,"nodeType":"ParameterList","parameters":[],"src":"732:2:0"},"returnParameters":{"id":19,"nodeType":"ParameterList","parameters":[],"src":"735:0:0"},"scope":278,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":101,"nodeType":"FunctionDefinition","src":"743:772:0","nodes":[],"body":{"id":100,"nodeType":"Block","src":"841:674:0","nodes":[],"statements":[{"assignments":[31],"declarations":[{"constant":false,"id":31,"mutability":"mutable","name":"amountOut","nameLocation":"859:9:0","nodeType":"VariableDeclaration","scope":100,"src":"851:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":30,"name":"uint256","nodeType":"ElementaryTypeName","src":"851:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":32,"nodeType":"VariableDeclarationStatement","src":"851:17:0"},{"assignments":[34],"declarations":[{"constant":false,"id":34,"mutability":"mutable","name":"paramsArrayLength","nameLocation":"886:17:0","nodeType":"VariableDeclaration","scope":100,"src":"878:25:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":33,"name":"uint256","nodeType":"ElementaryTypeName","src":"878:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":37,"initialValue":{"expression":{"id":35,"name":"paramsArray","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25,"src":"906:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_SwapParams_$17_calldata_ptr_$dyn_calldata_ptr","typeString":"struct SimulatorV1.SwapParams calldata[] calldata"}},"id":36,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"918:6:0","memberName":"length","nodeType":"MemberAccess","src":"906:18:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"VariableDeclarationStatement","src":"878:46:0"},{"body":{"id":96,"nodeType":"Block","src":"976:506:0","statements":[{"assignments":[46],"declarations":[{"constant":false,"id":46,"mutability":"mutable","name":"params","nameLocation":"1008:6:0","nodeType":"VariableDeclaration","scope":96,"src":"990:24:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams"},"typeName":{"id":45,"nodeType":"UserDefinedTypeName","pathNode":{"id":44,"name":"SwapParams","nameLocations":["990:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":17,"src":"990:10:0"},"referencedDeclaration":17,"src":"990:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_storage_ptr","typeString":"struct SimulatorV1.SwapParams"}},"visibility":"internal"}],"id":50,"initialValue":{"baseExpression":{"id":47,"name":"paramsArray","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":25,"src":"1017:11:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_SwapParams_$17_calldata_ptr_$dyn_calldata_ptr","typeString":"struct SimulatorV1.SwapParams calldata[] calldata"}},"id":49,"indexExpression":{"id":48,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39,"src":"1029:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1017:14:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_calldata_ptr","typeString":"struct SimulatorV1.SwapParams calldata"}},"nodeType":"VariableDeclarationStatement","src":"990:41:0"},{"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":53,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":51,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1050:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":52,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1063:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1050:14:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":66,"nodeType":"Block","src":"1130:58:0","statements":[{"expression":{"id":64,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":60,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1148:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":62,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"1155:6:0","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":16,"src":"1148:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":63,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1164:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1148:25:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":65,"nodeType":"ExpressionStatement","src":"1148:25:0"}]},"id":67,"nodeType":"IfStatement","src":"1046:142:0","trueBody":{"id":59,"nodeType":"Block","src":"1066:58:0","statements":[{"expression":{"id":57,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":54,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1084:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":55,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1096:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":56,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1103:6:0","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":16,"src":"1096:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1084:25:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":58,"nodeType":"ExpressionStatement","src":"1084:25:0"}]}},{"condition":{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":71,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":68,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1206:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":69,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1213:8:0","memberName":"protocol","nodeType":"MemberAccess","referencedDeclaration":6,"src":"1206:15:0","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":70,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1225:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"1206:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_uint8","typeString":"uint8"},"id":82,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"expression":{"id":79,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1314:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":80,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1321:8:0","memberName":"protocol","nodeType":"MemberAccess","referencedDeclaration":6,"src":"1314:15:0","typeDescriptions":{"typeIdentifier":"t_uint8","typeString":"uint8"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"31","id":81,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1333:1:0","typeDescriptions":{"typeIdentifier":"t_rational_1_by_1","typeString":"int_const 1"},"value":"1"},"src":"1314:20:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":90,"nodeType":"IfStatement","src":"1310:102:0","trueBody":{"id":89,"nodeType":"Block","src":"1336:76:0","statements":[{"expression":{"id":87,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":83,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1354:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":85,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1390:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}],"id":84,"name":"simulateUniswapV3SwapIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":199,"src":"1366:23:0","typeDescriptions":{"typeIdentifier":"t_function_internal_nonpayable$_t_struct$_SwapParams_$17_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct SimulatorV1.SwapParams memory) returns (uint256)"}},"id":86,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1366:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1354:43:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":88,"nodeType":"ExpressionStatement","src":"1354:43:0"}]}},"id":91,"nodeType":"IfStatement","src":"1202:210:0","trueBody":{"id":78,"nodeType":"Block","src":"1228:76:0","statements":[{"expression":{"id":76,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":72,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1246:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":74,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":46,"src":"1282:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}],"id":73,"name":"simulateUniswapV2SwapIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":134,"src":"1258:23:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_struct$_SwapParams_$17_memory_ptr_$returns$_t_uint256_$","typeString":"function (struct SimulatorV1.SwapParams memory) view returns (uint256)"}},"id":75,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1258:31:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1246:43:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":77,"nodeType":"ExpressionStatement","src":"1246:43:0"}]}},{"id":95,"nodeType":"UncheckedBlock","src":"1426:46:0","statements":[{"expression":{"id":93,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"1454:3:0","subExpression":{"id":92,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39,"src":"1456:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":94,"nodeType":"ExpressionStatement","src":"1454:3:0"}]}]},"condition":{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":43,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":41,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":39,"src":"951:1:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"<","rightExpression":{"id":42,"name":"paramsArrayLength","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":34,"src":"955:17:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"951:21:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":97,"initializationExpression":{"assignments":[39],"declarations":[{"constant":false,"id":39,"mutability":"mutable","name":"i","nameLocation":"948:1:0","nodeType":"VariableDeclaration","scope":97,"src":"940:9:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":38,"name":"uint256","nodeType":"ElementaryTypeName","src":"940:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":40,"nodeType":"VariableDeclarationStatement","src":"940:9:0"},"isSimpleCounterLoop":false,"nodeType":"ForStatement","src":"935:547:0"},{"expression":{"id":98,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":31,"src":"1499:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"functionReturnParameters":29,"id":99,"nodeType":"Return","src":"1492:16:0"}]},"functionSelector":"55abbafc","implemented":true,"kind":"function","modifiers":[],"name":"simulateSwapIn","nameLocation":"752:14:0","parameters":{"id":26,"nodeType":"ParameterList","parameters":[{"constant":false,"id":25,"mutability":"mutable","name":"paramsArray","nameLocation":"798:11:0","nodeType":"VariableDeclaration","scope":101,"src":"776:33:0","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_SwapParams_$17_calldata_ptr_$dyn_calldata_ptr","typeString":"struct SimulatorV1.SwapParams[]"},"typeName":{"baseType":{"id":23,"nodeType":"UserDefinedTypeName","pathNode":{"id":22,"name":"SwapParams","nameLocations":["776:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":17,"src":"776:10:0"},"referencedDeclaration":17,"src":"776:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_storage_ptr","typeString":"struct SimulatorV1.SwapParams"}},"id":24,"nodeType":"ArrayTypeName","src":"776:12:0","typeDescriptions":{"typeIdentifier":"t_array$_t_struct$_SwapParams_$17_storage_$dyn_storage_ptr","typeString":"struct SimulatorV1.SwapParams[]"}},"visibility":"internal"}],"src":"766:49:0"},"returnParameters":{"id":29,"nodeType":"ParameterList","parameters":[{"constant":false,"id":28,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":101,"src":"832:7:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":27,"name":"uint256","nodeType":"ElementaryTypeName","src":"832:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"831:9:0"},"scope":278,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":134,"nodeType":"FunctionDefinition","src":"1521:424:0","nodes":[],"body":{"id":133,"nodeType":"Block","src":"1634:311:0","nodes":[],"statements":[{"assignments":[110,112],"declarations":[{"constant":false,"id":110,"mutability":"mutable","name":"reserveIn","nameLocation":"1650:9:0","nodeType":"VariableDeclaration","scope":133,"src":"1645:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":109,"name":"uint","nodeType":"ElementaryTypeName","src":"1645:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":112,"mutability":"mutable","name":"reserveOut","nameLocation":"1666:10:0","nodeType":"VariableDeclaration","scope":133,"src":"1661:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":111,"name":"uint","nodeType":"ElementaryTypeName","src":"1661:4:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"id":122,"initialValue":{"arguments":[{"expression":{"id":115,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"1722:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":116,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1729:7:0","memberName":"handler","nodeType":"MemberAccess","referencedDeclaration":8,"src":"1722:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":117,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"1750:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":118,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1757:7:0","memberName":"tokenIn","nodeType":"MemberAccess","referencedDeclaration":10,"src":"1750:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"expression":{"id":119,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"1778:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":120,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1785:8:0","memberName":"tokenOut","nodeType":"MemberAccess","referencedDeclaration":12,"src":"1778:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_address","typeString":"address"}],"expression":{"id":113,"name":"UniswapV2Library","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1723,"src":"1680:16:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UniswapV2Library_$1723_$","typeString":"type(library UniswapV2Library)"}},"id":114,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1697:11:0","memberName":"getReserves","nodeType":"MemberAccess","referencedDeclaration":1445,"src":"1680:28:0","typeDescriptions":{"typeIdentifier":"t_function_internal_view$_t_address_$_t_address_$_t_address_$returns$_t_uint256_$_t_uint256_$","typeString":"function (address,address,address) view returns (uint256,uint256)"}},"id":121,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1680:123:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint256_$","typeString":"tuple(uint256,uint256)"}},"nodeType":"VariableDeclarationStatement","src":"1644:159:0"},{"expression":{"id":131,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":123,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":107,"src":"1813:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"expression":{"id":126,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":104,"src":"1868:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":127,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"1875:6:0","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":16,"src":"1868:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":128,"name":"reserveIn","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":110,"src":"1895:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":129,"name":"reserveOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":112,"src":"1918:10:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":124,"name":"UniswapV2Library","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":1723,"src":"1825:16:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_UniswapV2Library_$1723_$","typeString":"type(library UniswapV2Library)"}},"id":125,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"1842:12:0","memberName":"getAmountOut","nodeType":"MemberAccess","referencedDeclaration":1501,"src":"1825:29:0","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":130,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1825:113:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"1813:125:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":132,"nodeType":"ExpressionStatement","src":"1813:125:0"}]},"functionSelector":"76637028","implemented":true,"kind":"function","modifiers":[],"name":"simulateUniswapV2SwapIn","nameLocation":"1530:23:0","parameters":{"id":105,"nodeType":"ParameterList","parameters":[{"constant":false,"id":104,"mutability":"mutable","name":"params","nameLocation":"1581:6:0","nodeType":"VariableDeclaration","scope":134,"src":"1563:24:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams"},"typeName":{"id":103,"nodeType":"UserDefinedTypeName","pathNode":{"id":102,"name":"SwapParams","nameLocations":["1563:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":17,"src":"1563:10:0"},"referencedDeclaration":17,"src":"1563:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_storage_ptr","typeString":"struct SimulatorV1.SwapParams"}},"visibility":"internal"}],"src":"1553:40:0"},"returnParameters":{"id":108,"nodeType":"ParameterList","parameters":[{"constant":false,"id":107,"mutability":"mutable","name":"amountOut","nameLocation":"1623:9:0","nodeType":"VariableDeclaration","scope":134,"src":"1615:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":106,"name":"uint256","nodeType":"ElementaryTypeName","src":"1615:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"1614:19:0"},"scope":278,"stateMutability":"view","virtual":false,"visibility":"public"},{"id":199,"nodeType":"FunctionDefinition","src":"1951:534:0","nodes":[],"body":{"id":198,"nodeType":"Block","src":"2059:426:0","nodes":[],"statements":[{"assignments":[144],"declarations":[{"constant":false,"id":144,"mutability":"mutable","name":"quoter","nameLocation":"2079:6:0","nodeType":"VariableDeclaration","scope":198,"src":"2069:16:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_IQuoterV2_$959","typeString":"contract IQuoterV2"},"typeName":{"id":143,"nodeType":"UserDefinedTypeName","pathNode":{"id":142,"name":"IQuoterV2","nameLocations":["2069:9:0"],"nodeType":"IdentifierPath","referencedDeclaration":959,"src":"2069:9:0"},"referencedDeclaration":959,"src":"2069:9:0","typeDescriptions":{"typeIdentifier":"t_contract$_IQuoterV2_$959","typeString":"contract IQuoterV2"}},"visibility":"internal"}],"id":149,"initialValue":{"arguments":[{"expression":{"id":146,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2098:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":147,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2105:7:0","memberName":"handler","nodeType":"MemberAccess","referencedDeclaration":8,"src":"2098:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":145,"name":"IQuoterV2","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":959,"src":"2088:9:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_IQuoterV2_$959_$","typeString":"type(contract IQuoterV2)"}},"id":148,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2088:25:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_IQuoterV2_$959","typeString":"contract IQuoterV2"}},"nodeType":"VariableDeclarationStatement","src":"2069:44:0"},{"assignments":[154],"declarations":[{"constant":false,"id":154,"mutability":"mutable","name":"quoterParams","nameLocation":"2168:12:0","nodeType":"VariableDeclaration","scope":198,"src":"2123:57:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams"},"typeName":{"id":153,"nodeType":"UserDefinedTypeName","pathNode":{"id":152,"name":"IQuoterV2.QuoteExactInputSingleParams","nameLocations":["2123:9:0","2133:27:0"],"nodeType":"IdentifierPath","referencedDeclaration":899,"src":"2123:37:0"},"referencedDeclaration":899,"src":"2123:37:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_storage_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams"}},"visibility":"internal"}],"id":155,"nodeType":"VariableDeclarationStatement","src":"2123:57:0"},{"expression":{"id":161,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":156,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2190:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}},"id":158,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2203:7:0","memberName":"tokenIn","nodeType":"MemberAccess","referencedDeclaration":890,"src":"2190:20:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":159,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2213:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":160,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2220:7:0","memberName":"tokenIn","nodeType":"MemberAccess","referencedDeclaration":10,"src":"2213:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2190:37:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":162,"nodeType":"ExpressionStatement","src":"2190:37:0"},{"expression":{"id":168,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":163,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2237:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}},"id":165,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2250:8:0","memberName":"tokenOut","nodeType":"MemberAccess","referencedDeclaration":892,"src":"2237:21:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":166,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2261:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":167,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2268:8:0","memberName":"tokenOut","nodeType":"MemberAccess","referencedDeclaration":12,"src":"2261:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2237:39:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":169,"nodeType":"ExpressionStatement","src":"2237:39:0"},{"expression":{"id":175,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":170,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2286:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}},"id":172,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2299:8:0","memberName":"amountIn","nodeType":"MemberAccess","referencedDeclaration":894,"src":"2286:21:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":173,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2310:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":174,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2317:6:0","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":16,"src":"2310:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"2286:37:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":176,"nodeType":"ExpressionStatement","src":"2286:37:0"},{"expression":{"id":182,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":177,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2333:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}},"id":179,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2346:3:0","memberName":"fee","nodeType":"MemberAccess","referencedDeclaration":896,"src":"2333:16:0","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"expression":{"id":180,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":137,"src":"2352:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":181,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2359:3:0","memberName":"fee","nodeType":"MemberAccess","referencedDeclaration":14,"src":"2352:10:0","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"src":"2333:29:0","typeDescriptions":{"typeIdentifier":"t_uint24","typeString":"uint24"}},"id":183,"nodeType":"ExpressionStatement","src":"2333:29:0"},{"expression":{"id":188,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":184,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2372:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}},"id":186,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"2385:17:0","memberName":"sqrtPriceLimitX96","nodeType":"MemberAccess","referencedDeclaration":898,"src":"2372:30:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"hexValue":"30","id":187,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"2405:1:0","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"2372:34:0","typeDescriptions":{"typeIdentifier":"t_uint160","typeString":"uint160"}},"id":189,"nodeType":"ExpressionStatement","src":"2372:34:0"},{"expression":{"id":196,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"components":[{"id":190,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":140,"src":"2417:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},null,null,null],"id":191,"isConstant":false,"isInlineArray":false,"isLValue":true,"isPure":false,"lValueRequested":true,"nodeType":"TupleExpression","src":"2416:17:0","typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$__$__$__$","typeString":"tuple(uint256,,,)"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":194,"name":"quoterParams","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":154,"src":"2465:12:0","typeDescriptions":{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_struct$_QuoteExactInputSingleParams_$899_memory_ptr","typeString":"struct IQuoterV2.QuoteExactInputSingleParams memory"}],"expression":{"id":192,"name":"quoter","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":144,"src":"2436:6:0","typeDescriptions":{"typeIdentifier":"t_contract$_IQuoterV2_$959","typeString":"contract IQuoterV2"}},"id":193,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2443:21:0","memberName":"quoteExactInputSingle","nodeType":"MemberAccess","referencedDeclaration":914,"src":"2436:28:0","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_struct$_QuoteExactInputSingleParams_$899_memory_ptr_$returns$_t_uint256_$_t_uint160_$_t_uint32_$_t_uint256_$","typeString":"function (struct IQuoterV2.QuoteExactInputSingleParams memory) external returns (uint256,uint160,uint32,uint256)"}},"id":195,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2436:42:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$_t_uint256_$_t_uint160_$_t_uint32_$_t_uint256_$","typeString":"tuple(uint256,uint160,uint32,uint256)"}},"src":"2416:62:0","typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":197,"nodeType":"ExpressionStatement","src":"2416:62:0"}]},"functionSelector":"8e888ccc","implemented":true,"kind":"function","modifiers":[],"name":"simulateUniswapV3SwapIn","nameLocation":"1960:23:0","parameters":{"id":138,"nodeType":"ParameterList","parameters":[{"constant":false,"id":137,"mutability":"mutable","name":"params","nameLocation":"2011:6:0","nodeType":"VariableDeclaration","scope":199,"src":"1993:24:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams"},"typeName":{"id":136,"nodeType":"UserDefinedTypeName","pathNode":{"id":135,"name":"SwapParams","nameLocations":["1993:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":17,"src":"1993:10:0"},"referencedDeclaration":17,"src":"1993:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_storage_ptr","typeString":"struct SimulatorV1.SwapParams"}},"visibility":"internal"}],"src":"1983:40:0"},"returnParameters":{"id":141,"nodeType":"ParameterList","parameters":[{"constant":false,"id":140,"mutability":"mutable","name":"amountOut","nameLocation":"2048:9:0","nodeType":"VariableDeclaration","scope":199,"src":"2040:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":139,"name":"uint256","nodeType":"ElementaryTypeName","src":"2040:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2039:19:0"},"scope":278,"stateMutability":"nonpayable","virtual":false,"visibility":"public"},{"id":277,"nodeType":"FunctionDefinition","src":"2491:661:0","nodes":[],"body":{"id":276,"nodeType":"Block","src":"2595:557:0","nodes":[],"statements":[{"assignments":[209],"declarations":[{"constant":false,"id":209,"mutability":"mutable","name":"pool","nameLocation":"2616:4:0","nodeType":"VariableDeclaration","scope":276,"src":"2605:15:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$866","typeString":"contract ICurvePool"},"typeName":{"id":208,"nodeType":"UserDefinedTypeName","pathNode":{"id":207,"name":"ICurvePool","nameLocations":["2605:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":866,"src":"2605:10:0"},"referencedDeclaration":866,"src":"2605:10:0","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$866","typeString":"contract ICurvePool"}},"visibility":"internal"}],"id":214,"initialValue":{"arguments":[{"expression":{"id":211,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":202,"src":"2634:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":212,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2641:7:0","memberName":"handler","nodeType":"MemberAccess","referencedDeclaration":8,"src":"2634:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"}],"id":210,"name":"ICurvePool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":866,"src":"2623:10:0","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_ICurvePool_$866_$","typeString":"type(contract ICurvePool)"}},"id":213,"isConstant":false,"isLValue":false,"isPure":false,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2623:26:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$866","typeString":"contract ICurvePool"}},"nodeType":"VariableDeclarationStatement","src":"2605:44:0"},{"assignments":[216],"declarations":[{"constant":false,"id":216,"mutability":"mutable","name":"i","nameLocation":"2667:1:0","nodeType":"VariableDeclaration","scope":276,"src":"2660:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":215,"name":"int128","nodeType":"ElementaryTypeName","src":"2660:6:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":217,"nodeType":"VariableDeclarationStatement","src":"2660:8:0"},{"assignments":[219],"declarations":[{"constant":false,"id":219,"mutability":"mutable","name":"j","nameLocation":"2685:1:0","nodeType":"VariableDeclaration","scope":276,"src":"2678:8:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":218,"name":"int128","nodeType":"ElementaryTypeName","src":"2678:6:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":220,"nodeType":"VariableDeclarationStatement","src":"2678:8:0"},{"assignments":[222],"declarations":[{"constant":false,"id":222,"mutability":"mutable","name":"coinIdx","nameLocation":"2704:7:0","nodeType":"VariableDeclaration","scope":276,"src":"2697:14:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":221,"name":"int128","nodeType":"ElementaryTypeName","src":"2697:6:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"}],"id":223,"nodeType":"VariableDeclarationStatement","src":"2697:14:0"},{"body":{"id":264,"nodeType":"Block","src":"2737:354:0","statements":[{"assignments":[228],"declarations":[{"constant":false,"id":228,"mutability":"mutable","name":"coin","nameLocation":"2759:4:0","nodeType":"VariableDeclaration","scope":264,"src":"2751:12:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":227,"name":"address","nodeType":"ElementaryTypeName","src":"2751:7:0","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"id":233,"initialValue":{"arguments":[{"id":231,"name":"coinIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"2777:7:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"}],"expression":{"id":229,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"2766:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$866","typeString":"contract ICurvePool"}},"id":230,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"2771:5:0","memberName":"coins","nodeType":"MemberAccess","referencedDeclaration":801,"src":"2766:10:0","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_int128_$returns$_t_address_$","typeString":"function (int128) external returns (address)"}},"id":232,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2766:19:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"VariableDeclarationStatement","src":"2751:34:0"},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":237,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":234,"name":"coin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"2804:4:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":235,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":202,"src":"2812:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":236,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2819:7:0","memberName":"tokenIn","nodeType":"MemberAccess","referencedDeclaration":10,"src":"2812:14:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2804:22:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":246,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":243,"name":"coin","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":228,"src":"2882:4:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"expression":{"id":244,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":202,"src":"2890:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":245,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"2897:8:0","memberName":"tokenOut","nodeType":"MemberAccess","referencedDeclaration":12,"src":"2890:15:0","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"2882:23:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":252,"nodeType":"IfStatement","src":"2878:73:0","trueBody":{"id":251,"nodeType":"Block","src":"2907:44:0","statements":[{"expression":{"id":249,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":247,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":219,"src":"2925:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":248,"name":"coinIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"2929:7:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"2925:11:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":250,"nodeType":"ExpressionStatement","src":"2925:11:0"}]}},"id":253,"nodeType":"IfStatement","src":"2800:151:0","trueBody":{"id":242,"nodeType":"Block","src":"2828:44:0","statements":[{"expression":{"id":240,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":238,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":216,"src":"2846:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":239,"name":"coinIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"2850:7:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"2846:11:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":241,"nodeType":"ExpressionStatement","src":"2846:11:0"}]}},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":256,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":254,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":216,"src":"2969:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"id":255,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":219,"src":"2974:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"2969:6:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":259,"nodeType":"IfStatement","src":"2965:50:0","trueBody":{"id":258,"nodeType":"Block","src":"2977:38:0","statements":[{"id":257,"nodeType":"Break","src":"2995:5:0"}]}},{"id":263,"nodeType":"UncheckedBlock","src":"3029:52:0","statements":[{"expression":{"id":261,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"nodeType":"UnaryOperation","operator":"++","prefix":true,"src":"3057:9:0","subExpression":{"id":260,"name":"coinIdx","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":222,"src":"3059:7:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"id":262,"nodeType":"ExpressionStatement","src":"3057:9:0"}]}]},"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":226,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":224,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":216,"src":"2729:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"id":225,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":219,"src":"2734:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"src":"2729:6:0","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":265,"nodeType":"WhileStatement","src":"2722:369:0"},{"expression":{"id":274,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":266,"name":"amountOut","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":205,"src":"3101:9:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":269,"name":"i","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":216,"src":"3125:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"id":270,"name":"j","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":219,"src":"3128:1:0","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},{"expression":{"id":271,"name":"params","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":202,"src":"3131:6:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams memory"}},"id":272,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3138:6:0","memberName":"amount","nodeType":"MemberAccess","referencedDeclaration":16,"src":"3131:13:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_int128","typeString":"int128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":267,"name":"pool","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":209,"src":"3113:4:0","typeDescriptions":{"typeIdentifier":"t_contract$_ICurvePool_$866","typeString":"contract ICurvePool"}},"id":268,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"3118:6:0","memberName":"get_dy","nodeType":"MemberAccess","referencedDeclaration":686,"src":"3113:11:0","typeDescriptions":{"typeIdentifier":"t_function_external_nonpayable$_t_int128_$_t_int128_$_t_uint256_$returns$_t_uint256_$","typeString":"function (int128,int128,uint256) external returns (uint256)"}},"id":273,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"3113:32:0","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"3101:44:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":275,"nodeType":"ExpressionStatement","src":"3101:44:0"}]},"functionSelector":"88dbf051","implemented":true,"kind":"function","modifiers":[],"name":"simulateCurveSwapIn","nameLocation":"2500:19:0","parameters":{"id":203,"nodeType":"ParameterList","parameters":[{"constant":false,"id":202,"mutability":"mutable","name":"params","nameLocation":"2547:6:0","nodeType":"VariableDeclaration","scope":277,"src":"2529:24:0","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_memory_ptr","typeString":"struct SimulatorV1.SwapParams"},"typeName":{"id":201,"nodeType":"UserDefinedTypeName","pathNode":{"id":200,"name":"SwapParams","nameLocations":["2529:10:0"],"nodeType":"IdentifierPath","referencedDeclaration":17,"src":"2529:10:0"},"referencedDeclaration":17,"src":"2529:10:0","typeDescriptions":{"typeIdentifier":"t_struct$_SwapParams_$17_storage_ptr","typeString":"struct SimulatorV1.SwapParams"}},"visibility":"internal"}],"src":"2519:40:0"},"returnParameters":{"id":206,"nodeType":"ParameterList","parameters":[{"constant":false,"id":205,"mutability":"mutable","name":"amountOut","nameLocation":"2584:9:0","nodeType":"VariableDeclaration","scope":277,"src":"2576:17:0","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":204,"name":"uint256","nodeType":"ElementaryTypeName","src":"2576:7:0","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"2575:19:0"},"scope":278,"stateMutability":"nonpayable","virtual":false,"visibility":"public"}],"abstract":false,"baseContracts":[],"canonicalName":"SimulatorV1","contractDependencies":[],"contractKind":"contract","fullyImplemented":true,"linearizedBaseContracts":[278],"name":"SimulatorV1","nameLocation":"302:11:0","scope":279,"usedErrors":[],"usedEvents":[]}],"license":"MIT"},"id":0}